<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>RahulAI | Blog</title>
    
    <!-- Fonts -->
    <link href="https://api.fontshare.com/v2/css?f[]=clash-display@200,400,500,600,700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/Draggable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/InertiaPlugin.min.js"></script>

    <script>
        tailwind.config = {
            darkMode: ['class', '[data-theme="dark"]'],
            plugins: [
                function({ addVariant }) {
                    addVariant('light', 'body[data-theme="light"] &');
                }
            ],
            theme: {
                extend: {
                    colors: {
                        'void': '#0a0a0a',
                        'cyan-glow': '#00f5ff',
                        'blue-glow': '#0080ff',
                        'cream': '#F4F2E9',
                        'orange-accent': '#AF5C00',
                        'orange-bright': '#FF4D00',
                        'card-dark': '#111111',
                        'sub': '#888888'
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Space Grotesk', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    }
                }
            }
        }
    </script>

    <style>
        :root {
            --cursor-size: 20px;
            --primary: #00f5ff;
            --secondary: #0080ff;
            --bg-color: #0a0a0a;
            --text-color: #ffffff;
        }

        [data-theme="light"] {
            --primary: #AF5C00;
            --secondary: #FF4D00;
            --bg-color: #F4F2E9;
            --text-color: #1a1a1a;
        }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
            cursor: auto;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        body.cursor-active {
            cursor: none;
        }

        /* Custom Cursor */
        #cursor {
            position: fixed;
            top: 0;
            left: 0;
            width: var(--cursor-size);
            height: var(--cursor-size);
            border: 1px solid var(--primary);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: difference;
            transition: transform 0.1s ease, width 0.3s, height 0.3s, border-color 0.3s;
            transform: translate(-50%, -50%);
            opacity: 0;
        }

        body.cursor-active #cursor {
            opacity: 1;
        }

        #cursor.hovered {
            background-color: var(--primary);
            width: 50px;
            height: 50px;
            mix-blend-mode: normal;
            opacity: 0.8;
        }

        /* Active Nav Link - Glass Effect */
        .nav-link {
            position: relative;
            padding: 0.5rem 0.75rem;
            border-radius: 9999px;
            transition: all 0.3s ease;
        }

        .nav-link.active {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--primary) !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        [data-theme="light"] .nav-link.active {
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.05);
            color: var(--primary) !important;
        }

        /* Grain Overlay */
        .grain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9000;
            opacity: 0.05;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        @media (max-width: 768px) {
            .grain { display: none; }
            #cursor { display: none !important; }
        }

        /* Carousel Specific Styles */
        .carousel-wrapper {
            position: relative;
            width: 100%;
            height: 70vh;
            overflow: hidden;
            display: flex;
            align-items: center;
            perspective: 1000px;
            cursor: grab;
        }
        
        .carousel-wrapper:active {
            cursor: grabbing;
        }
        
        .carousel-container {
            display: flex;
            gap: 4rem;
            padding: 0 10vw;
            width: max-content;
            align-items: center;
        }

        .blog-card {
            width: 450px;
            height: 550px;
            flex-shrink: 0;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            user-select: none;
            position: relative;
        }

        @media (max-width: 768px) {
            .blog-card {
                width: 300px;
                height: 450px;
            }
            .carousel-wrapper {
                height: auto;
                overflow-x: auto;
                padding: 4rem 0;
                cursor: auto;
            }
            .carousel-container {
                padding: 0 2rem;
                gap: 2rem;
            }
        }
    </style>
</head>
<body class="antialiased selection:bg-cyan-glow selection:text-black light:selection:bg-orange-accent light:selection:text-white font-sans" data-theme="dark">

    <div id="cursor"></div>
    <div id="particles-js" class="fixed inset-0 pointer-events-none z-0"></div>
    <div class="grain"></div>

    <!-- Floating Nav -->
    <nav class="fixed bottom-8 left-1/2 -translate-x-1/2 z-50 w-[90%] max-w-md">
        <div class="glass-nav bg-[#111]/80 backdrop-blur-xl border border-white/10 rounded-full px-6 py-4 flex items-center justify-between shadow-2xl transition-colors duration-300 dark:bg-[#111]/80 dark:border-white/10 light:bg-[#F4F2E9]/80 light:border-black/10">
            <a href="../data-scientist-portfolio.html#home" class="nav-link text-xs md:text-sm font-medium hover:text-cyan-glow light:hover:text-orange-accent transition-colors dark:text-gray-300 light:text-gray-800">Home</a>
            <a href="../data-scientist-portfolio.html#about" class="nav-link text-xs md:text-sm font-medium hover:text-cyan-glow light:hover:text-orange-accent transition-colors dark:text-gray-300 light:text-gray-800">About</a>
            <a href="../data-scientist-portfolio.html#experience" class="nav-link text-xs md:text-sm font-medium hover:text-cyan-glow light:hover:text-orange-accent transition-colors dark:text-gray-300 light:text-gray-800">Journey</a>
            <a href="../data-scientist-portfolio.html#skills" class="nav-link text-xs md:text-sm font-medium hover:text-cyan-glow light:hover:text-orange-accent transition-colors dark:text-gray-300 light:text-gray-800">Skills</a>
            <a href="../data-scientist-portfolio.html#work" class="nav-link text-xs md:text-sm font-medium hover:text-cyan-glow light:hover:text-orange-accent transition-colors dark:text-gray-300 light:text-gray-800">Work</a>
            <a href="#" class="nav-link active text-xs md:text-sm font-medium hover:text-cyan-glow light:hover:text-orange-accent transition-colors dark:text-gray-300 light:text-gray-800">Blog</a>
            <button id="themeToggle" class="p-2 rounded-full hover:bg-white/10 light:hover:bg-black/5 transition-colors" aria-label="Toggle Theme">
                <span class="dark:block hidden">‚òÄÔ∏è</span>
                <span class="dark:hidden block">üåô</span>
            </button>
        </div>
    </nav>

    <!-- HEADER SECTION -->
    <section class="relative pt-32 px-4 md:px-12 max-w-7xl mx-auto z-10 text-center">
        <h1 class="font-display text-5xl md:text-7xl font-bold text-white light:text-black mb-4">
            Latest <span class="text-cyan-glow light:text-orange-accent">Thoughts</span>
        </h1>
        <p class="text-sub light:text-gray-600 font-mono text-lg max-w-xl mx-auto">
            Deep dives into AI engineering, system architecture, and the realities of deploying machine learning in production.
        </p>
    </section>

    <!-- CAROUSEL SECTION -->
    <section class="relative z-10 w-full flex flex-col justify-center my-8">
        <div id="loading" class="text-center py-20 text-gray-500">Loading articles...</div>
        
        <div class="carousel-wrapper" id="carousel-wrapper">
            <div id="blog-carousel" class="carousel-container">
                <!-- Dynamic Content Will Be Injected Here -->
            </div>
        </div>
        
        <!-- Scroll Indicator -->
        <div class="flex justify-center mt-4 gap-2 text-xs font-mono text-sub light:text-gray-500 opacity-60">
            <span>‚Üê Drag to explore ‚Üí</span>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="py-8 text-center text-xs font-mono text-gray-500 border-t border-white/5 light:border-black/5">
        <p>&copy; 2026 Rahul Singh. All rights reserved.</p>
    </footer>

    <script>
        // --- THEME TOGGLE ---
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            body.setAttribute('data-theme', savedTheme);
        } else if (window.matchMedia('(prefers-color-scheme: light)').matches) {
            body.setAttribute('data-theme', 'light');
        }

        themeToggle.addEventListener('click', () => {
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        });

        // --- DYNAMIC BLOG LOADING & CAROUSEL ---
        const initBlog = async () => {
            const blogContainer = document.getElementById('blog-carousel');
            const loading = document.getElementById('loading');
            const wrapper = document.getElementById('carousel-wrapper');
            
            try {
                const response = await fetch('blogs.json');
                if (!response.ok) throw new Error('Failed to load blogs');
                
                const data = await response.json();
                const blogs = data.blogs;
                
                loading.style.display = 'none';
                
                if (blogs.length === 0) {
                    blogContainer.innerHTML = '<p class="text-center w-full text-gray-500">No articles found.</p>';
                    return;
                }

                blogContainer.innerHTML = blogs.map((blog, index) => `
                    <article class="blog-card group cursor-pointer flex flex-col bg-[#111] light:bg-white border border-white/10 light:border-black/10 rounded-3xl overflow-hidden relative shadow-2xl transition-all duration-300" onclick="if(!isDragging) window.location.href='${blog.slug}.html'">
                        <div class="h-[55%] w-full overflow-hidden relative bg-black/20 light:bg-gray-100">
                            ${blog.thumbnail ? 
                                `<img src="${blog.thumbnail.startsWith('http') ? blog.thumbnail : '../' + blog.thumbnail}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105" alt="${blog.title}">` :
                                `<div class="w-full h-full flex items-center justify-center text-6xl opacity-30 group-hover:opacity-100 transition-opacity duration-300 scale-90 group-hover:scale-110">${blog.icon || 'üìù'}</div>`
                            }
                            <div class="absolute top-4 left-4 flex gap-2">
                                ${(blog.tags || []).slice(0, 2).map(tag => 
                                    `<span class="bg-black/60 backdrop-blur-md px-3 py-1 rounded-full text-[10px] font-mono border border-white/20 text-white uppercase tracking-wider">${tag}</span>`
                                ).join('')}
                            </div>
                        </div>
                        
                        <div class="p-8 flex flex-col flex-1 relative">
                            <div class="flex items-center gap-4 text-xs text-sub light:text-gray-500 mb-4 font-mono uppercase tracking-wide">
                                <span>${blog.date}</span>
                                <span class="w-1 h-1 rounded-full bg-cyan-glow light:bg-orange-accent"></span>
                                <span>${blog.readTime}</span>
                            </div>
                            
                            <h2 class="font-display text-2xl font-bold text-white light:text-black mb-3 group-hover:text-cyan-glow light:group-hover:text-orange-accent transition-colors leading-tight line-clamp-3">
                                ${blog.title}
                            </h2>
                            
                            <p class="text-sub light:text-gray-600 text-sm leading-relaxed mb-6 line-clamp-2 flex-1">
                                ${blog.excerpt}
                            </p>
                            
                            <div class="flex items-center text-cyan-glow light:text-orange-accent text-sm font-bold group-hover:translate-x-2 transition-transform duration-300 mt-auto">
                                Read Article <span class="ml-2">‚Üí</span>
                            </div>
                        </div>
                        
                        <!-- Glow effect -->
                        <div class="absolute inset-0 border-2 border-transparent group-hover:border-cyan-glow/20 light:group-hover:border-orange-accent/20 rounded-3xl pointer-events-none transition-colors duration-300"></div>
                    </article>
                `).join('');

                // Initialize GSAP Draggable
                initDraggableCarousel();

            } catch (error) {
                console.error('Error loading blogs:', error);
                loading.innerHTML = '<p class="text-red-500">Failed to load articles. Please try again later.</p>';
            }
        };

        let isDragging = false;

        const initDraggableCarousel = () => {
            gsap.registerPlugin(Draggable);
            
            const container = document.getElementById('blog-carousel');
            const wrapper = document.getElementById('carousel-wrapper');
            const cards = document.querySelectorAll('.blog-card');
            
            // Animation for cards appearing
            gsap.from(cards, {
                y: 100,
                opacity: 0,
                duration: 1,
                stagger: 0.1,
                ease: "power3.out"
            });

            // Draggable setup
            Draggable.create(container, {
                type: "x",
                bounds: {
                    minX: -container.offsetWidth + wrapper.offsetWidth - 100,
                    maxX: 100
                },
                inertia: true,
                edgeResistance: 0.65,
                dragClickables: true,
                onDragStart: () => { isDragging = true; },
                onDragEnd: () => { setTimeout(() => isDragging = false, 50); }, // Small delay to prevent click trigger
                onDrag: updateTilt,
                onThrowUpdate: updateTilt
            });

            // Parallax / Tilt Effect
            function updateTilt() {
                if (window.innerWidth < 768) return;
                
                const velocity = this.getVelocity ? this.getVelocity("x") : 0;
                const tilt = gsap.utils.clamp(-10, 10, velocity / 100);
                
                gsap.to(cards, {
                    rotation: tilt * -0.5, // Inverse rotation for flow feel
                    duration: 0.5,
                    ease: "power2.out"
                });
            }
        };

        // --- CUSTOM CURSOR ---
        const cursor = document.getElementById('cursor');
        if (window.matchMedia("(pointer: fine)").matches) {
            document.body.classList.add('cursor-active');
            document.addEventListener('mousemove', (e) => {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
            });
            
            const addHoverListeners = () => {
                const hoverables = document.querySelectorAll('a, button, .blog-card');
                hoverables.forEach(el => {
                    el.addEventListener('mouseenter', () => cursor.classList.add('hovered'));
                    el.addEventListener('mouseleave', () => cursor.classList.remove('hovered'));
                });
            };
            setTimeout(addHoverListeners, 1000); 
        }

        // --- PARTICLES ---
        const initParticles = () => {
            const canvas = document.createElement('canvas');
            const container = document.getElementById('particles-js');
            if(!container) return;
            container.appendChild(canvas);
            const ctx = canvas.getContext('2d');
            let width, height;
            let particles = [];
            const resize = () => { width = window.innerWidth; height = window.innerHeight; canvas.width = width; canvas.height = height; };
            class Particle {
                constructor() { this.reset(); }
                reset() { this.x = Math.random() * width; this.y = Math.random() * height; this.vx = (Math.random() - 0.5) * 0.5; this.vy = (Math.random() - 0.5) * 0.5; this.size = Math.random() * 2; this.alpha = Math.random() * 0.3; }
                update() { this.x += this.vx; this.y += this.vy; if(this.x < 0 || this.x > width || this.y < 0 || this.y > height) this.reset(); }
                draw() { 
                    const isLight = document.body.getAttribute('data-theme') === 'light';
                    ctx.fillStyle = isLight ? `rgba(175, 92, 0, ${this.alpha})` : `rgba(0, 245, 255, ${this.alpha})`;
                    ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill(); 
                }
            }
            window.addEventListener('resize', resize);
            resize();
            for(let i=0; i<40; i++) particles.push(new Particle());
            const animate = () => { ctx.clearRect(0, 0, width, height); particles.forEach(p => { p.update(); p.draw(); }); requestAnimationFrame(animate); };
            animate();
        };

        // --- INIT ---
        window.addEventListener('load', () => {
            initParticles();
            initBlog();
            
            gsap.from('h1, p', {
                y: 30,
                opacity: 0,
                duration: 1,
                stagger: 0.2,
                ease: "power3.out"
            });
        });

    </script>
</body>
</html>
